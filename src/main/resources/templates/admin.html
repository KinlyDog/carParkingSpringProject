<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home page</title>
    <link href="../static/css/style.css" th:href="@{/css/style.css}" rel="stylesheet"/>

</head>
<body>
<div class="page-wrapper">
    <!--    <h1>Admin panel</h1>-->

    <br>
    <!--    <h2>Vehicles list</h2>-->
    <!--    <table class="styled-table">-->
    <!--        <tr>-->
    <!--            <th>id</th>-->
    <!--            <th>Brand<br>Name</th>-->
    <!--            <th>Type</th>-->
    <!--            <th>Year</th>-->
    <!--            <th>Color</th>-->
    <!--            <th>Odometer</th>-->
    <!--            <th>Price</th>-->
    <!--            <th>Safety<br>Rating</th>-->
    <!--            <th>Seating<br>Capacity</th>-->
    <!--            <th>Fuel<br>Capacity</th>-->
    <!--            <th>Average<br>LKM</th>-->
    <!--&lt;!&ndash;            <th>Enterprise</th>&ndash;&gt;-->
    <!--&lt;!&ndash;            <th>Active<br>driver</th>&ndash;&gt;-->
    <!--            <th>Change</th>-->
    <!--            <th>Delete</th>-->
    <!--        </tr>-->

    <!--        <tr th:each="v: ${vehicles}">-->
    <!--            <td th:text="${v.id}"></td>-->
    <!--            <td th:text="${v.brand.name}"></td>-->
    <!--            <td th:text="${v.brand.type}"></td>-->
    <!--            <td th:text="${v.year}"></td>-->
    <!--            <td th:text="${v.color}"></td>-->
    <!--            <td th:text="${#numbers.formatDecimal(v.odometer, 0, 'WHITESPACE', 0, 'NONE')}"></td>-->
    <!--            <td th:text="${#numbers.formatDecimal(v.price, 0, 'WHITESPACE', 0, 'NONE')}"></td>-->
    <!--            <td th:text="${v.brand.safetyRating}"></td>-->
    <!--            <td th:text="${v.brand.seatingCapacity}"></td>-->
    <!--            <td th:text="${v.brand.fuelCapacity}"></td>-->
    <!--            <td th:text="${v.brand.averageLKM}"></td>-->
    <!--&lt;!&ndash;            <td th:text="${v.enterprise.name}"></td>&ndash;&gt;-->
    <!--&lt;!&ndash;            <td th:text="${v.activeDriver}"></td>&ndash;&gt;-->
    <!--            <td>-->
    <!--                <form th:action="@{/changeVehicleView}" method="post">-->
    <!--                    <input type="hidden" name="id" th:value="${v.id}"/>-->
    <!--                    <input type="hidden" name="idBrand" th:value="${v.brand.id}"/>-->
    <!--                    <button type="submit">Change</button>-->
    <!--                </form>-->
    <!--            </td>-->
    <!--            <td>-->
    <!--                <form th:action="@{/deleteVehicle}" method="post">-->
    <!--                    <input type="hidden" name="id" th:value="${v.id}"/>-->
    <!--                    <button type="submit">Delete</button>-->
    <!--                </form>-->
    <!--            </td>-->
    <!--        </tr>-->
    <!--    </table>-->

    <!--    <br>-->


    <!--    <h2>Enterprises list</h2>-->
    <!--    <table class="styled-table">-->
    <!--        <tr>-->
    <!--            <th>id</th>-->
    <!--            <th>Name</th>-->
    <!--            <th>City</th>-->
    <!--            <th>Vehicles</th> &lt;!&ndash; Добавленный заголовок &ndash;&gt;-->
    <!--            <th>Drivers</th> &lt;!&ndash; Добавленный заголовок &ndash;&gt;-->
    <!--        </tr>-->

    <!--        <tr th:each="e: ${enterprises}">-->
    <!--            <td th:text="${e.id}"></td>-->
    <!--            <td th:text="${e.name}"></td>-->
    <!--            <td th:text="${e.city}"></td>-->
    <!--            <td>-->
    <!--&lt;!&ndash;                <ul>&ndash;&gt;-->
    <!--&lt;!&ndash;                    <li th:each="vehicle: ${e.vehicles}" th:text="${vehicle.name}"></li>&ndash;&gt;-->
    <!--&lt;!&ndash;                </ul>&ndash;&gt;-->
    <!--            </td>-->
    <!--            <td>-->
    <!--                <ul>-->
    <!--                    <li th:each="driver: ${e.drivers}" th:text="${driver.name}"></li>-->
    <!--                </ul>-->
    <!--            </td>-->
    <!--        </tr>-->

    <!--    </table>-->

    <!--    <br>-->
    <!--    <form th:action="@{/addEnterprise}" method="get">-->
    <!--        <button type="submit">Add enterprise</button>-->
    <!--    </form>-->
    <h2>All vehicles</h2>
    <table class="styled-table">
        <tr>
            <th>id</th>
            <th>brand name</th>
            <th>b_id</th>
            <th>color</th>
            <th>year</th>
            <th>odometer</th>
            <th>price</th>
            <th>edit</th>
            <th>delete</th>

        </tr>

        <tr th:each="v: ${vehicles}">
            <td th:text="${v.id}"></td>
            <td th:text="${v.brand.name}"></td>
            <td th:text="${v.brand.id}"></td>
            <td th:text="${v.color}"></td>
            <td th:text="${v.year}"></td>
            <td th:text="${#numbers.formatDecimal(v.odometer, 0, 'WHITESPACE', 0, 'NONE')}"></td>
            <td th:text="${#numbers.formatDecimal(v.price, 0, 'WHITESPACE', 0, 'NONE')}"></td>
            <td>
                <form th:action="@{/edit-vehicle}" method="get">
                    <input type="hidden" name="id" th:value="${v.id}"/>
                    <input type="hidden" name="brandId" th:value="${v.brand.id}"/>
                    <button type="submit">Edit</button>
                </form>
            </td>
            <td>
                <form th:action="@{/delete-vehicle}" method="post">
                    <input type="hidden" name="id" th:value="${v.id}"/>
                    <button type="submit">Delete</button>
                </form>
            </td>
        </tr>

    </table>
    <br>
    <div class="button-container">
        <form th:action="@{/new-vehicle}" method="get">
            <button type="submit">New vehicle</button>
        </form>
        <form th:action="@{/rest/all-vehicles}" method="get">
            <button type="submit">JSON all vehicles</button>
        </form>
    </div>


    <br>
    <h2>All brands</h2>
    <table class="styled-table">
        <tr>
            <th>id</th>
            <th>name</th>
            <th>type</th>
            <th>safety<br/>rating</th>
            <th>seating<br/>capacity</th>
            <th>fuel<br/>capacity</th>
            <th>average<br/>L/KM</th>
            <th>delete</th>
        </tr>

        <tr th:each="b: ${brands}">
            <td th:text="${b.id}"></td>
            <td th:text="${b.name}"></td>
            <td th:text="${b.type}"></td>
            <td th:text="${b.safetyRating}"></td>
            <td th:text="${b.seatingCapacity}"></td>
            <td th:text="${b.fuelCapacity}"></td>
            <td th:text="${b.averageLKM}"></td>
            <td>
                <form th:action="@{/delete-brand}" method="post">
                    <input type="hidden" name="id" th:value="${b.id}"/>
                    <button type="submit">Delete</button>
                </form>
            </td>
        </tr>
    </table>
    </table>
    <br>
    <form th:action="@{/new-brand}" method="get">
        <button type="submit">New brand</button>
    </form>

    <p><span class="bold-red">Внимание:</span><br> Нажатие кнопки Delete, в таблице Brand,<br>
        повлечет за собой безвозвратное удаление всех связанных с этим брендом автомобилей.</p>
</div>
</body>
</html>
